// COMANDI MYSQL


//------USARE O SCEGLIERE IL DATABASE--

USE 'nome_db;

//-----CREARE UNA TABELLA-----

CREATE TABLE nome_tabella (

    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(10)  NOT NULL,    -> NOT NULL vuol dire obbligatorio
    cognome VARCHAR(10),
    eta INT

);

//--INSERIMENTO DATI IN UNA TABELLA---

INSERT INTO nome_tabella(nome, cognome, eta)

VALUES ('Mario', 'Rossi', 35),
('Luigi', 'Bianchi', 46),
('Pippo', 'Paperino', 67);


//--LEGGERE I DATI--

SELECT * FROM nome_tabella WHERE eta >= 18;
SELECT * FROM nome_tabella WHERE nome = 'Mario';

//--AGGIORNARE I DATI--

UPDATE nome_tabella
SET eta = 36
WHERE nome = 'Mario';


//--CANCELLARE UN DATO--

DELETE FROM nome_tabella

WHERE nome = 'Mario';



//--CANCELLARE DATABASE--

DROP DATABASE nome_database;







//----------------ESERCIZI QUERY---------------------


//mostrare tutti i prodotti disponibili

    SELECT * FROM `prodotti` WHERE disponibili = TRUE

//elencare tutti i prodotti di una categoria a vs. scelta

    SELECT * FROM `prodotti` WHERE categoria = 'INFORMATICA'


// mostrare il nome e il prezzo e la quatità dei prodotti con quantità minore di 5 

    SELECT nome, prezzo, quantita FROM prodotti WHERE quantita < 5;


//ordino tutti i prodotti per prezzo decrescente

    SELECT * FROM prodotti ORDER BY prezzo DESC;  ASC (crescente)


//trovare i prodotti con prezzo compreso tra un range di prezzi

    SELECT * FROM prodotti WHERE prezzo BETWEEN 100 AND 900;


//calcolare il prezzo medio per categoria

    SELECT categoria, AVG(prezzo) AS prezzo_medio      AVG-> average (media)
    FROM prodotti
    GROUP BY categoria;


// aggiungere la quantita ad un prodotto esistente

    UPDATE prodotti 
    SET quantita = quantita +5
    WHERE id = 4;


//cancellare prodotto

    DELETE FROM prodotti WHERE id = 6;


//aggiungere colonna a TABELLA

    ALTER TABLE nome_tabella
    ADD COLUMN nome_colonna tipo_di_dato;

        es. ALTER TABLE appartamenti
        ADD COLUMN giardino BOOLEAN;



//eliminare colonna da TABELLA

    ALTER TABLE nome_tabella
    DROP COLUMN nome_colonna;

        es. ALTER TABLE appartamenti
        DROP COLUMN giardino;






//ESERCIZIO APPARTAMENTI

CREARE DB APPARTAMENTI, 
CREARE TABELLA, 
E INSERIRE : ID, INTERNO, PIANO, METRI_QUADRI, PROPRIETARIO

    //MOSTRARE TUTTI GLI APPARTAMENTI

    //MOSTRARE GLI APPARTAMENTI AL 2° PIANO

    //MOSTRARE APPARTAMENTI CON PIU DI 80MQ2

    //MOSTRARE SOLO INTERNO E PROPRIETARIO

    //ORDINARE GLI APPARTAMENTI PER METRI_QUADRI DAL PIU GRANDE AL PIU PICCOLO

    //CALCOLA LA MEDIA DEI METRI_QUADRI
    SELECT AVG(metri_quadri) AS media_metri
    FROM condominio;

    //INSERIMENTO DI DATI, POPOLARLO

    //AGGIORNAMENTO DI UN DATO (METRI_QUADRI)

    //CANCELLARE UN DATO ( UN INTERNO )

    //CANCELLARE APPARTAMENTI SOTTO GLI 80MQ2


//////////////////FOREIGN KEY///////////

table appartamenti                          table inquilini    CREO UNA "FOREIGN KEY" CHE COLLEGA LE DUE TABELLE

ID INT AUTO_INCREMENT PRIMARY KEY           ID INT AUTO_INCREMENT PRIMARY KEY
                                            id_appartamento INT
                                            FOREIGN KEY (id_appartamento) REFERENCES appartamenti (id);